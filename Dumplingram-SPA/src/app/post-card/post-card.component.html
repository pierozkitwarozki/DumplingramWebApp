<div id="card" class="container text-center">
  <div id="user-info" class="col">
    <div
      [routerLink]="['/users/', photo.userId]"
      style="
        display: flex;
        justify-content: flex-start;
        align-items: center;
        cursor: pointer;
      "
    >
      <img
        id="avatar"
        src="{{ photo.userPhotoUrl }}"
        alt="{{ photo.username }}"
        class="mr-2"
      />
      <h1 id="username">@{{ photo.username }}</h1>
    </div>
    <div *ngIf="isPhotoMine()" style="display: flex; justify-content: flex-end">
      <i
        class="fa fa-check mr-2"
        style="cursor: pointer"
        (click)="setMain()"
      ></i>
      <i
        class="fa fa-trash"
        style="cursor: pointer"
        (click)="deletePhoto()"
      ></i>
    </div>
  </div>
  <div class="col">
    <img
      style="position: relative; top: 0; left: 0"
      id="post-photo"
      src="{{ photo.url }}"
      alt="{{ photo.description }}"
      (dblclick)="likeOrDislike(photo.id)"
    />
  </div>
  <div id="description" class="col">
    <p>{{ photo.description }}</p>
  </div>
  <hr class="solid" />
  <div id="likes-container" class="col" style="align-items: center">
    <img
      *ngIf="!isLiked"
      id="like"
      class="fa-pulse"
      src="../../assets/like.png"
      alt="like"
      (click)="likePhoto(photo.id)"
    />
    <img
      *ngIf="isLiked"
      id="like"
      class="fa-bounce"
      src="../../assets/liked.png"
      alt="like"
      (click)="dislikePhoto(photo.id)"
    />
    <div>
      <h1 id="likes" (click)="openFoloweesModal(template)" class="w-100">
        Liczba polubień: {{ countLikes() }}
      </h1>
      <p>{{ photo.dateAdded | date: "mediumDate" }}</p>
    </div>
  </div>
</div>

<ng-template #template>
  <div class="modal-header p-5 text-center">
    <h1
      style="font-family: 'Roboto Slab'; font-weight: bold; font-size: xx-large"
    >
      Liczba polubień: {{ countLikes() }}
    </h1>
  </div>

  <div
    class="modal-body"
    style="max-height: calc(100vh - 400px); overflow-y: auto"
  >
    <div id="avatar-section" class="mb-4" *ngFor="let like of photoLikes">
      <div
        id="item"
        [routerLink]="['/users/', like.userId]"
        (click)="modalRef.hide()"
      >
        <img
          id="profile-image"
          src="{{ like.userPhotoUrl || '../../assets/user.png' }}"
          alt=""
        />
        <b class="w-100"
          ><p id="name">{{ like.name }} {{ like.surname }}</p>
          @{{ like.username }}</b
        >
      </div>
    </div>
  </div>
</ng-template>
